(self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[]).push([[547],{93327:e=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHighlightReel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightReelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHighlightReelSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1},{kind:"StringValue",value:"matterport.model.defurnished",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PutActiveReel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"elements"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReelElementInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mode"}},type:{kind:"NamedType",name:{kind:"Name",value:"HighlightReelMode"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"putActiveReel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"elements"},value:{kind:"Variable",name:{kind:"Name",value:"elements"}}},{kind:"Argument",name:{kind:"Name",value:"mode"},value:{kind:"Variable",name:{kind:"Name",value:"mode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlightReelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightReel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"overrides"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transitionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panAngle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1111}};i.loc.source={body:'query GetHighlightReel($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    activeHighlightReel {\n      ...HighlightReelDetails\n    }\n  }\n}\n\nquery GetHighlightReelSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    views(types: ["matterport.model.default", "matterport.model.layered", "matterport.user.view", "matterport.model.defurnished"]) {\n      id\n      model {\n      \tactiveHighlightReel { \n          reel {\n            asset {\n              ... on Photo {\n              \tsnapshotLocation {\n                  anchor {\n                    id\n                  }\n                }\n              }                          \n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nmutation PutActiveReel($modelId: ID!, $elements: [ReelElementInput!], $mode: HighlightReelMode) {\n  putActiveReel(modelId: $modelId, elements: $elements, mode: $mode) {\n    id\n  }\n}\n\nfragment HighlightReelDetails on HighlightReel {\n  id\n  label\n  mode\n  reel {\n    overrides {\n      transitionType\n      panDirection\n      panAngle\n    }\n    asset {\n      ... on Photo {\n        id\n      }\n    }\n    title\n    description\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,i){if("FragmentSpread"===e.kind)i.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,i)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,i)})),e.definitions&&e.definitions.forEach((function(e){t(e,i)}))}var n={};function s(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}function a(e,i){var t={kind:e.kind,definitions:[s(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=n[i]||new Set,d=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){d.has(e)||(d.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return d.forEach((function(i){var n=s(e,i);n&&t.definitions.push(n)})),t}i.definitions.forEach((function(e){if(e.name){var i=new Set;t(e,i),n[e.name.value]=i}})),e.exports=i,e.exports.GetHighlightReel=a(i,"GetHighlightReel"),e.exports.GetHighlightReelSweeps=a(i,"GetHighlightReelSweeps"),e.exports.PutActiveReel=a(i,"PutActiveReel"),e.exports.HighlightReelDetails=a(i,"HighlightReelDetails")},74568:(e,i,t)=>{"use strict";t.d(i,{OR:()=>d,Zl:()=>o,v0:()=>a,v3:()=>s,vp:()=>l});var n=t(13686);class s extends n.E{constructor(e,i,t,n){super(),this.position=e,this.clientPosition=i,this.delta=t,this.buttons=n}}class a extends n.E{constructor(e,i,t,n,s){super(),this.position=e,this.clientPosition=i,this.delta=t,this.buttons=n,this.progress=s}}class d extends n.E{constructor(e,i,t){super(),this.position=e,this.clientPosition=i,this.buttons=t}}class o extends n.E{constructor(e,i,t){super(),this.position=e,this.clientPosition=i,this.buttons=t}}class l extends n.E{constructor(e,i,t){super(),this.position=e,this.clientPosition=i,this.cancelled=t}}},46464:(e,i,t)=>{"use strict";t.d(i,{s:()=>s});var n=t(13686);class s extends n.E{constructor(e,i){super(),this.position=e,this.delta=i}}},93834:(e,i,t)=>{"use strict";t.d(i,{b:()=>d,d:()=>a});var n=t(42311),s=t(79105);const a=e=>e instanceof n.rX?e.button===s.m.PRIMARY:e.buttons===s.O.PRIMARY,d=(e,i)=>{var t;const n=(null===(t=i.parentElement)||void 0===t?void 0:t.clientWidth)||0,s=i.offsetLeft,a=i.offsetWidth,d=Math.max(60,Math.min(90,.08*a));return 0===s&&e>0&&e<d||!(s+a<n)&&e>n-d}},58398:(e,i,t)=>{"use strict";t.d(i,{QZ:()=>a,To:()=>r,bV:()=>c,hR:()=>s,kC:()=>o,sN:()=>d,wx:()=>l,z:()=>u});var n=t(14754);class s extends n.QB{constructor(e){super(),this.data=e}}class a extends n.QB{constructor(e){super(),this.data=e}}class d extends n.QB{}class o extends n.QB{constructor(e,i){super(),this.sid=e,this.text=i}}class l extends n.QB{constructor(e,i,t){super(),this.sid=e,this.oldText=i,this.newText=t}}class r extends n.QB{constructor(e){super(),this.data=e}}class c extends n.QB{constructor(e){super(),this.data=e}}class u extends n.QB{constructor(e,i,t){super(),this.opened=e,this.viewmode=i,this.count=t}}n.QB},22169:(e,i,t)=>{"use strict";t.d(i,{N:()=>s});var n=t(14754);class s extends n.QB{constructor(e){super(),this.rating=e}}},47103:(e,i,t)=>{"use strict";var n;t.d(i,{I:()=>n}),function(e){e[e.RoomLabels=0]="RoomLabels",e[e.Normal=1]="Normal"}(n||(n={}))},98925:(e,i,t)=>{"use strict";t.d(i,{O:()=>o});var n=t(61589),s=t(60282),a=t(16276),d=t(50281);class o extends n.B{constructor(e){super(),this.name="snapshots",this.snapshots={};for(const i in e)this.snapshots[i]=e[i].clone()}get(e){return this.snapshots[e]}async getImageUrl(e){const i=this.get(e),t=new URL(await i.imageUrl.get());return"panorama"===i.category&&(t.searchParams.delete("height"),t.searchParams.delete("fit")),t.toString()}get collection(){return this.snapshots}get snapshotsCount(){return this.snapshots?Object.keys(this.snapshots).length:0}getSortedCollection(e){if(!this.snapshotsCount)return[];let i=Object.values(this.snapshots);return(null==e?void 0:e.filterFn)&&(i=i.filter(e.filterFn)),i.sort((null==e?void 0:e.compareFn)||d.PN)}setSelectedPhoto(e){this.selectedPhotoId=e,this.commit()}add(e){e.sid=this.validateSid(e.sid),this.snapshots[e.sid]=e,this.updateOnStaleCallbacks(),this.commit()}remove(e){delete this.snapshots[e]}validateSid(e){for(;!e||this.snapshots[e];)e=(0,s.D)(11);return e}set onStale(e){this.hydrate=e,this.updateOnStaleCallbacks()}updateOnStaleCallbacks(){this.hydrate&&(0,a._)(this.snapshots,(async()=>{const e=await this.hydrate();for(const i in this.snapshots)e&&e[i]&&this.snapshots[i].refresh(e[i])}))}}},49475:(e,i,t)=>{"use strict";t.d(i,{xO:()=>l});var n,s=t(95226),a=t(83662);!function(e){e.GET="GET",e.POST="POST",e.PATCH="PATCH",e.PUT="PUT",e.DELETE="DELETE",e.OPTIONS="OPTIONS"}(n||(n={}));class d{constructor(){this._options={responseType:"json"}}get options(){const e=this._options;return e.headers=(0,a.v)(this.url,this._options.headers||{}),e}}class o extends d{constructor(e){super(),this.config=e,this.url=e.path}async read(){const{deserialize:e}=this.config;let i=null;return this.config.cachedData&&this.config.cachedData.data?i=this.config.cachedData.data:(i=await this.config.queue.get(this.config.path,this.options),this.config.cachedData&&(this.config.cachedData.data=i)),e(i)}clearCache(){this.config.cachedData&&(this.config.cachedData.data=null)}}class l extends o{constructor(e){super(e),this.config=e,this.acceptsPartial=!1,this.config.batchUpdate="batchUpdate"in this.config&&this.config.batchUpdate}async create(e){throw Error("Not implemented")}updateBatch(e,i){const{serialize:t}=this.config,s=[],a=[...new Set([...Object.keys(e),...Object.keys(i)])];for(const t of a){e[t]||i[t]||s.push(this.config.queue.delete(`${this.config.path}/${t}`,this.options))}const d=t(e,i),o=Object.assign(Object.assign({},this.options),{body:d});return s.push(this.config.queue.request(this.config.httpMethod||n.POST,this.config.path,o)),Promise.all(s)}updateInternal(e,i){const{serialize:t}=this.config,a=[],d=Object.assign({},this.options),o=Object.keys(e),l=Object.keys(i),r=(0,s.ij)(o.concat(l));for(const s in r){const o=r[s],l=e[o]||i[o];if(l){const e={};e[o]=l;const s={},r=i[o];r&&(s[o]=r);const c=t(e,s);d.body=c,a.push(this.config.queue.request(this.config.httpMethod||n.POST,this.config.path,d))}else a.push(this.config.queue.delete(`${this.config.path}/${o}`,this.options))}return Promise.all(a)}async update(e,i){this.clearCache(),await(this.config.batchUpdate?this.updateBatch(e,i||{}):this.updateInternal(e,i||{}))}async delete(e){throw Error("Not implemented")}}},43797:(e,i,t)=>{"use strict";function n(e){return{x:e.x,y:e.y,z:e.z}}function s(e){return{x:e.x||e._x,y:e.y||e._y,z:e.z||e._z,w:e.w||e._w}}t.d(i,{I:()=>n,p:()=>s})}}]);